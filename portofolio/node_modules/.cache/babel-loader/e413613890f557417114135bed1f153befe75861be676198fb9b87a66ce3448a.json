{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ZiQi\\\\Desktop\\\\\\u65B0\\u5EFA\\u6587\\u4EF6\\u5939\\\\portofolio\\\\portofolio\\\\src\\\\Components\\\\Skills\\\\LargeBubble.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { getRandomInt, generateNonOverlappingPosition } from './utils'; // Make sure to create and import these utility functions\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Bubble = styled.div`\n  position: absolute;\n  width: ${props => props.size}px;\n  height: ${props => props.size}px;\n  background-image: url(${props => props.image});\n  background-size: cover;\n  border-radius: 50%;\n  top: ${props => props.position.y}px;\n  left: ${props => props.position.x}px;\n  cursor: pointer;\n`;\n_c = Bubble;\nconst SmallBubble = styled.div`\n  position: absolute;\n  width: ${props => props.size}px;\n  height: ${props => props.size}px;\n  background-color: lightblue;\n  border-radius: 50%;\n  top: ${props => props.position.y}px;\n  left: ${props => props.position.x}px;\n`;\n_c2 = SmallBubble;\nconst LargeBubble = ({\n  skill,\n  subSkills,\n  image,\n  size,\n  position,\n  existingPositions\n}) => {\n  _s();\n  const [expanded, setExpanded] = useState(false);\n  const [smallBubblePositions, setSmallBubblePositions] = useState([]);\n  useEffect(() => {\n    if (expanded) {\n      console.log(`Generating positions for ${subSkills.length} small bubbles around the large bubble of size ${size}px`);\n      const containerSize = {\n        width: size * 1.2,\n        height: size * 1.2\n      };\n      const newPositions = [];\n      const newSizes = [];\n      subSkills.forEach(skillName => {\n        const newSize = getRandomInt(skillName.length * 2 + 50, skillName.length * 3 + 50);\n        const newPosition = generateNonOverlappingPosition(newSize, newPositions.concat(existingPositions), containerSize, position);\n        newPositions.push(newPosition);\n        newSizes.push(newSize);\n      });\n      let finalPos = newPositions.map((pos, index) => ({\n        ...pos,\n        size: newSizes[index]\n      }));\n      setSmallBubblePositions(finalPos);\n      const savePositionsToLocalStorage = positions => {\n        const jsonString = JSON.stringify(positions);\n        localStorage.setItem(`smallPos_${skill}`, jsonString); // Corrected to use `skill` directly\n      };\n      savePositionsToLocalStorage(finalPos);\n    }\n  }, [expanded, subSkills, size, existingPositions, position, skill]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Bubble, {\n      size: size,\n      image: image,\n      position: position,\n      onClick: () => setExpanded(!expanded) // Toggle expanded state on click\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), expanded && smallBubblePositions.map((pos, index) => /*#__PURE__*/_jsxDEV(SmallBubble, {\n      size: pos.size,\n      position: pos\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true);\n};\n_s(LargeBubble, \"2Z9Ug0bV9OVO+LFLdXzzVGODt3U=\");\n_c3 = LargeBubble;\nexport default LargeBubble;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Bubble\");\n$RefreshReg$(_c2, \"SmallBubble\");\n$RefreshReg$(_c3, \"LargeBubble\");","map":{"version":3,"names":["React","useEffect","useState","styled","getRandomInt","generateNonOverlappingPosition","jsxDEV","_jsxDEV","Fragment","_Fragment","Bubble","div","props","size","image","position","y","x","_c","SmallBubble","_c2","LargeBubble","skill","subSkills","existingPositions","_s","expanded","setExpanded","smallBubblePositions","setSmallBubblePositions","console","log","length","containerSize","width","height","newPositions","newSizes","forEach","skillName","newSize","newPosition","concat","push","finalPos","map","pos","index","savePositionsToLocalStorage","positions","jsonString","JSON","stringify","localStorage","setItem","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c3","$RefreshReg$"],"sources":["C:/Users/ZiQi/Desktop/新建文件夹/portofolio/portofolio/src/Components/Skills/LargeBubble.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { getRandomInt, generateNonOverlappingPosition } from './utils';  // Make sure to create and import these utility functions\r\n\r\nconst Bubble = styled.div`\r\n  position: absolute;\r\n  width: ${(props) => props.size}px;\r\n  height: ${(props) => props.size}px;\r\n  background-image: url(${(props) => props.image});\r\n  background-size: cover;\r\n  border-radius: 50%;\r\n  top: ${(props) => props.position.y}px;\r\n  left: ${(props) => props.position.x}px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst SmallBubble = styled.div`\r\n  position: absolute;\r\n  width: ${(props) => props.size}px;\r\n  height: ${(props) => props.size}px;\r\n  background-color: lightblue;\r\n  border-radius: 50%;\r\n  top: ${(props) => props.position.y}px;\r\n  left: ${(props) => props.position.x}px;\r\n`;\r\n\r\nconst LargeBubble = ({ skill, subSkills, image, size, position, existingPositions }) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [smallBubblePositions, setSmallBubblePositions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (expanded) {\r\n      console.log(`Generating positions for ${subSkills.length} small bubbles around the large bubble of size ${size}px`);\r\n\r\n      const containerSize = { width: size * 1.2, height: size * 1.2 };\r\n      const newPositions = [];\r\n      const newSizes = [];\r\n\r\n      subSkills.forEach((skillName) => {\r\n        const newSize = getRandomInt(skillName.length * 2 + 50, skillName.length * 3 + 50);\r\n        const newPosition = generateNonOverlappingPosition(newSize, newPositions.concat(existingPositions), containerSize, position);\r\n        newPositions.push(newPosition);\r\n        newSizes.push(newSize);\r\n      });\r\n\r\n      let finalPos = newPositions.map((pos, index) => ({ ...pos, size: newSizes[index] }));\r\n      setSmallBubblePositions(finalPos);\r\n\r\n      const savePositionsToLocalStorage = (positions) => {\r\n        const jsonString = JSON.stringify(positions);\r\n        localStorage.setItem(`smallPos_${skill}`, jsonString);  // Corrected to use `skill` directly\r\n      };\r\n      savePositionsToLocalStorage(finalPos);\r\n    }\r\n  }, [expanded, subSkills, size, existingPositions, position, skill]);\r\n\r\n  return (\r\n    <>\r\n      <Bubble\r\n        size={size}\r\n        image={image}\r\n        position={position}\r\n        onClick={() => setExpanded(!expanded)}  // Toggle expanded state on click\r\n      />\r\n      {expanded && smallBubblePositions.map((pos, index) => (\r\n        <SmallBubble\r\n          key={index}\r\n          size={pos.size}\r\n          position={pos}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LargeBubble;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}